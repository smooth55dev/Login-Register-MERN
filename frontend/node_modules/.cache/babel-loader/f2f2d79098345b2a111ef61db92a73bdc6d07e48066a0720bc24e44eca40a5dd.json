{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { getUsername } from \"../helper/helper\";\naxios.defaults.baseURL = process.env.REACT_APP_API_URL;\n\n/** custom hook */\nexport default function useFetch(query) {\n  _s();\n  const [getData, setData] = useState({\n    isLoading: false,\n    apiData: undefined,\n    status: null,\n    serverError: null\n  });\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setData(prev => ({\n          ...prev,\n          isLoading: true\n        }));\n        const {\n          username\n        } = !query ? await getUsername() : \"\";\n        const {\n          data,\n          status\n        } = !query ? await axios.get(`/api/user/${username}`) : await axios.get(`/api/${query}`);\n        if (status === 201) {\n          setData(prev => ({\n            ...prev,\n            isLoading: false\n          }));\n          setData(prev => ({\n            ...prev,\n            apiData: data,\n            status: status\n          }));\n        }\n        setData(prev => ({\n          ...prev,\n          isLoading: false\n        }));\n      } catch (error) {\n        setData(prev => ({\n          ...prev,\n          isLoading: false,\n          serverError: error\n        }));\n      }\n    };\n    fetchData();\n  }, [query]);\n  return [getData, setData];\n}\n_s(useFetch, \"s5ySO+CQ7jMJMphbNplRvdHREyQ=\");","map":{"version":3,"names":["axios","useEffect","useState","getUsername","defaults","baseURL","process","env","REACT_APP_API_URL","useFetch","query","_s","getData","setData","isLoading","apiData","undefined","status","serverError","fetchData","prev","username","data","get","error"],"sources":["D:/work/Yamada/Login-Register-MERN/frontend/src/hooks/useFetch.js"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { getUsername } from \"../helper/helper\";\n\naxios.defaults.baseURL = process.env.REACT_APP_API_URL;\n\n/** custom hook */\nexport default function useFetch(query) {\n  const [getData, setData] = useState({\n    isLoading: false,\n    apiData: undefined,\n    status: null,\n    serverError: null,\n  });\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setData((prev) => ({ ...prev, isLoading: true }));\n\n        const { username } = !query ? await getUsername() : \"\";\n\n        const { data, status } = !query\n          ? await axios.get(`/api/user/${username}`)\n          : await axios.get(`/api/${query}`);\n\n        if (status === 201) {\n          setData((prev) => ({ ...prev, isLoading: false }));\n          setData((prev) => ({ ...prev, apiData: data, status: status }));\n        }\n\n        setData((prev) => ({ ...prev, isLoading: false }));\n      } catch (error) {\n        setData((prev) => ({ ...prev, isLoading: false, serverError: error }));\n      }\n    };\n    fetchData();\n  }, [query]);\n\n  return [getData, setData];\n}\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,WAAW,QAAQ,kBAAkB;AAE9CH,KAAK,CAACI,QAAQ,CAACC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB;;AAEtD;AACA,eAAe,SAASC,QAAQA,CAACC,KAAK,EAAE;EAAAC,EAAA;EACtC,MAAM,CAACC,OAAO,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC;IAClCY,SAAS,EAAE,KAAK;IAChBC,OAAO,EAAEC,SAAS;IAClBC,MAAM,EAAE,IAAI;IACZC,WAAW,EAAE;EACf,CAAC,CAAC;EAEFjB,SAAS,CAAC,MAAM;IACd,MAAMkB,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACFN,OAAO,CAAEO,IAAI,KAAM;UAAE,GAAGA,IAAI;UAAEN,SAAS,EAAE;QAAK,CAAC,CAAC,CAAC;QAEjD,MAAM;UAAEO;QAAS,CAAC,GAAG,CAACX,KAAK,GAAG,MAAMP,WAAW,CAAC,CAAC,GAAG,EAAE;QAEtD,MAAM;UAAEmB,IAAI;UAAEL;QAAO,CAAC,GAAG,CAACP,KAAK,GAC3B,MAAMV,KAAK,CAACuB,GAAG,CAAE,aAAYF,QAAS,EAAC,CAAC,GACxC,MAAMrB,KAAK,CAACuB,GAAG,CAAE,QAAOb,KAAM,EAAC,CAAC;QAEpC,IAAIO,MAAM,KAAK,GAAG,EAAE;UAClBJ,OAAO,CAAEO,IAAI,KAAM;YAAE,GAAGA,IAAI;YAAEN,SAAS,EAAE;UAAM,CAAC,CAAC,CAAC;UAClDD,OAAO,CAAEO,IAAI,KAAM;YAAE,GAAGA,IAAI;YAAEL,OAAO,EAAEO,IAAI;YAAEL,MAAM,EAAEA;UAAO,CAAC,CAAC,CAAC;QACjE;QAEAJ,OAAO,CAAEO,IAAI,KAAM;UAAE,GAAGA,IAAI;UAAEN,SAAS,EAAE;QAAM,CAAC,CAAC,CAAC;MACpD,CAAC,CAAC,OAAOU,KAAK,EAAE;QACdX,OAAO,CAAEO,IAAI,KAAM;UAAE,GAAGA,IAAI;UAAEN,SAAS,EAAE,KAAK;UAAEI,WAAW,EAAEM;QAAM,CAAC,CAAC,CAAC;MACxE;IACF,CAAC;IACDL,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACT,KAAK,CAAC,CAAC;EAEX,OAAO,CAACE,OAAO,EAAEC,OAAO,CAAC;AAC3B;AAACF,EAAA,CAjCuBF,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}